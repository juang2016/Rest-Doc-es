openapi: 3.0.0
info:
  title: Rest co_es
  version: '1.0'
  description: |
    Este servicio web y su arquitectura permite a cualquier aplicación conectarse a Place to Pay para procesar tarjetas, independiente del lenguaje de desarrollo.

    Para usar el servicio web, deberás tener un lenguaje de programación que pueda comunicarse con un servicio REST.

    El método de integración contempla las operaciones básicas para el procesamiento de tarjetas no presenciales, esto es tipos de crédito, intereses, generación de OTP, autorización, reverso.

    A continuación se describirán cada uno de los usos y los datos requeridos en la trama para cada uno de los casos.  La respuesta para cada operación está unificada en un solo tipo de trama resultante.

    Por defecto el lenguaje de las respuestas es en español, si se desea cambiar es necesario enviar el parámetro `locale` en las peticiones.

     ¿Cómo funciona?

    Se trata de un proceso para realizar la transacción que involucra el consumo de los servicios descritos en este documento.

    1. Una vez se capture el número de tarjeta del usuario se realiza el consumo al servicio de información `informationRequest` enviándolo en la petición
    2. Se analiza la respuesta del servicio para disponer las opciones que siguen
    * Si la respuesta trae tipos de crédito `credits` se deben mostrar al usuario para permitirle seleccionar cual desea usar.
    * Si la respuesta tiene el parámetro “displayInterest” en true, se debe, una vez seleccionado un tipo de crédito, consumir el servicio de cálculo de intereses `interestCalculation` y mostrar al usuario la respuesta, así cada vez que el usuario cambie de tipo de crédito.
    * Si la respuesta trae el parámetro “requireOtp” en true, se debe hacer el consumo al servicio de generación de OTP (otpGeneration) y obtener del usuario el código que será de 6 dígitos para enviarlo posteriormente en el servicio de validación de OTP `otpValidate` una vez se tenga una respuesta se enviará el resultado signature bajo el campo OTP de la solicitud de procesamiento.
    3. Una vez se haya obtenido el tipo de crédito (si lo hay), el OTP (si se requiere) se consume el servicio de procesamiento de transacción `processTransaction` y se analiza la respuesta que puede ser final `aprobada, declinada o fallida` o que puede estar pendiente. En ambos casos se retornará un valor para internalReference que es muy importante almacenar porque le permitirá realizar consultas posteriores con el servicio `queryTransaction`.
    * Si se aprobó la transacción es importante almacenar también el número de autorización, le permitirá realizar reversos posteriormente si fuese necesario.
    * Generalmente las transacciones son culminadas en un tiempo corto (menos de 3 seg), pero si la transacción queda en estado pendiente es importante tener un cron job o similar que esté consultando cada 5 minutos por las transacciones pendientes hasta que se resuelvan.

    **¿Cuándo es mejor usarlo?**

    `Este mecanismo sólo debe ser usado por aquellos clientes de la plataforma que requieren capturar la información del tarjetahabiente incluyendo los datos sensibles`.

    La integración se recomienda únicamente en los casos que no sea factible que el usuario realice la transacción ingresando los datos sensibles en PlacetoPay o en donde se requiere un control particular de la operación.

     Algunos ejemplos son:

    * Cobros recurrentes desde una base de datos propietaria.
    * Integración con un sistema de audiorespuesta.
    * Múltiples transacciones a diferentes recaudadores con la misma información del tarjetahabiente.
    * Interfaz móvil propietaria, no basada en HTML.
    * Integración con sistemas cuya entrada de los datos sensibles no la realice directamente el tarjetahabiente.

    **¿Qué obligaciones tengo cuando uso esta integración?**

    Tenga en cuenta que al usar este tipo de integración, usted está suministrando todos los datos del comprador incluyendo los datos sensibles de la tarjeta, este solo hecho requiere que la captura de la información sea por un mecanismo seguro que no ponga en peligro los datos del tarjetahabiente.  Si la información la captura por una página Web, el punto donde se capturan estos datos debe estar sobre protocolo seguro HTTPS usando certificados de seguridad expedidos por una entidad certificadora acreditada.

    Si la captura la realiza por un Call Center, quien obtiene los datos sensibles debe ser un mecanismo de IVR `Interactive Voice Response` o audiorespuesta; esto implicaría un rompimiento en el proceso entre el proceso que realiza el operador con su CRM y el IVR quien captura los datos sensibles.  Finalmente el CRM consolida los dos conjuntos de datos y los remite a Place to Pay.

    Si la captura proviene de una base de datos de tarjetas previamente inscritas, asegúrese que esta información está encriptada por un mecanismo seguro de encriptación como AES o 3DES, desencripte solo en el momento en que construye la trama a ser enviada a Place to Pay. Place to Pay tiene servicios de tokenización que pueden ser usados.

    Tenga en cuenta que como regla general usted no debe almacenar el número de tarjeta, fecha de vencimiento y CVV2.  Estos solo pueden tener persistencia durante la solicitud de la autorización, una vez procesada no deben ser almacenados.

    Como cualquier proceso de integración, este requerirá una certificación del personal de soporte de Place to Pay para revisar temas de funcionamiento, mejores prácticas y usabilidad.

    **Servicios**

    Todos los consumos se realizan a la URL base, que será proporcionada por el área de operaciones y se le adiciona a dicha URL el endpoint del servicio a consumir.

    Por ejemplo si la URL base fuese https://placetopay.com para consumir el servicio se solicitud de información se realiza un POST con los datos del ejemplo a la URL https://placetopay.com/gateway/information.


    ** ESTRUCTURA DE DATOS**

    **Status**

    Estructura que contiene la información sobre una solicitud o pago, informa al estado actual de la misma.

    | Name | Type | Description |
    |-----------|------|-------------|
    | status | string | Estado proporcionado, podría ser uno de esos: [OK, FAILED, APPROVED, REJECTED, PENDING, MANUAL, REFUNDED] |
    | reason | string | Código de motivo proporcionado. |
    | message | string | Descripción del código de razón. |
    | date | string | Fecha y hora de este estado. |

    **Payment**

    Estructura que contiene la información acerca del pago de la transacción requerida al servicio web

    | Name | Type | Description |
    |-----------|------|-------------|
    | reference | string(32) | Referencia para la solicitud de pago para vincular con el comercio. |
    | description | string | Descripción de la cuenta. |
    | amount | Amount | Detalle del monto a cobrar en la transacción. |


    **Amount**

    Estructura que contiene la información acerca del pago de la transacción requerida al servicio web

    | Name | Type | Description |
    |-----------|------|-------------|
    | currency | string | Moneda acorde al **ISO 4217** (alphabetic code) |
    | total | decimal | Valor total. |
    | taxes | TaxDetail[] | Descripción de los impuestos. |
    | details | AmountDetail[] | Descripción del importe total. |

    **TaxDetail**

    Estructura para almacenar información sobre un impuesto.

    | Name | Type | Description |
    |-----------|------|-------------|
    | kind | string | Valor de clasificación, puede ser [valueAddedTax, exciseDuty, ice]. |
    | amount | double | Valor discriminado. |
    | base | double | Valor base. |


    **AmountDetail**

    Estructura para almacenar información sobre un valor adicional.

    | Name | Type | Description |
    |-----------|------|-------------|
    | kind | string | Valor de clasificación, puede ser [discount, additional, vatDevolutionBase, shipping, handlingFee, insurance, giftWrap, subtotal, fee, tip] |
    | amount | double | Valor discriminado. |

    **Instrument**

    Estructura que contiene la información acerca del medio de pago a usar en una transacción, esta estructura es variable de acuerdo a la solicitud que se genere, cada servicio requiere que se usen unos u otros datos.

    | Name | Type | Description |
    |-----------|------|-------------|
    | card | Card | Datos de una tarjeta a usar. |
    | token | Token | Información de token a usar. |
    | credit | Credit | Datos del tipo de crédito a emplear. |
    | otp | string | Información del código de un uso generado. |

    **Card**

    Estructura que contiene la información de la tarjeta

    | Name | Type | Description |
    |-----------|------|-------------|
    | number | string | Número completo de la tarjeta. |
    | expirationMonth | string(2) | Mes de expiración de la tarjeta en formato MM. |
    | expirationYear | string(2) | Año de expiración de la tarjeta en formato YY. |
    | cvv | string | Dígitos de verificación de la tarjeta. |

    **Token**

    Estructura que contiene la información del token que asocia a la tarjeta

    | Name | Type | Description |
    |-----------|------|-------------|
    | token | string(64) | Token alfanumérico asociado a la tarjeta registrada. |
    | subtoken | string(16) | Token numérico asociado a la tarjeta. |
    | franchise | string(10) | Nombre código de la franquicia de la tarjeta (diners, visa, visa_electron, amex, master, discover) |
    | franchiseName | string(30) | Nombre de la franquicia para mostrar al cliente. |
    | issuerName | string(60) | Nombre del emisor de la tarjeta, `puede ser nulo en caso de ser un bin desconocido`. |
    | lastDigits | string(4) | Últimos 4 dígitos de la tarjeta. |
    | validUntil | string(5) | Fecha de expiración del token, en formato MM/YY |

    **Credit**

    Estructura que contiene la información del tipo de crédito

    | Name | Type | Description |
    |-----------|------|-------------|
    | code | string | Código del tipo de crédito. |
    | type | string | Tipo asociado al crédito. |
    | groupCode | string | Código del grupo de tipo de crédito. |
    | installment | int | Número de meses asociado al tipo de crédito. |
    | installments | int[] | Arreglo con los posibles valores de número de meses que se permiten al tipo de crédito. |

    **InterestValues**

    Estructura que contiene la información del cálculo de intereses para un tipo de crédito y monto

    | Name | Type | Description |
    |-----------|------|-------------|
    | original | double | Valor original de la transacción. |
    | installment | double | Valor de la cuota asociada al tipo de crédito. |
    | interest | double | Valor del interés de la transacción. |
    | total | double | Valor total que será pagado por el usuario. |

    **AmountConversion**

    Estructura para definir el factor de conversión y los valores.

    | Name | Type | Description |
    |-----------|------|-------------|
    | from | AmountBase | Monto solicitado |
    | to | AmountBase | Monto procesado por la entidad. |
    | factor | double | Factor de conversión. |

    **AmountBase**

    Estructura que representa una cantidad que define la moneda y el total.

    | Name | Type | Description |
    |-----------|------|-------------|
    | currency | string | Moneda acorde al **ISO 4217** (alphabetic code) |
    | total | decimal | Valor total. |

    **Person**

    Estructura que refleja la información de una persona involucrada en una transacción.

    | Name | Type | Description |
    |-----------|------|-------------|
    | documentType | string | Tipo de identificación |
    | document | string | Identificación. |
    | name | string | Nombres de la persona |
    | surname | string | Apellidos de la persona |
    | company | string | Nombre de la empresa en la que trabaja o representa. |
    | email | string | Correo electrónico de la persona. |
    | address | Address | Información completa de la dirección |
    | mobile | string | Número celular. |

    **Address**

    Estructura que contiene la información sobre una dirección física


    | Name | Type | Description |
    |-----------|------|-------------|
    | street | string | Dirección física completa. |
    | city | string | Nombre de la ciudad. |
    | state | string | Nombre del estado coincidente con la dirección |
    | postalCode | string | Código postal o equivalente se requiere generalmente para los países que tienen. |
    | country | string | Código internacional del país que se aplica a la dirección física según  ISO 3166-1 ALPHA-2 |
    | phone | string | Número telefónico. |

    **Transaction**

    Estructura que contiene la información de una transacción

    | Name | Type | Description |
    |-----------|------|-------------|
    | status | Status | Información del estado de la petición |
    | provider | string | Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED) |
    | internalReference | string | Código único que identifica la transacción en los sistemas de PlacetoPay |
    | reference | string | Referencia provista por el comercio. |
    | paymentMethod | string(5) | Código que identifica el medio de pago usado. |
    | franchise | string | Código de franquicia usado en la transacción (diners, visa, master, discover, amex) |
    | franchiseName | string | Nombre de la franquicia usada. |
    | issuerName | string | Nombre d. |el banco emisor de la tarjeta usada de acuerdo a nuestro listado de bines |
    | amount | Amount | Valores asociados a la transacción. |
    | conversion | AmountConversion | Valores de conversión usados para la transacción, siempre presente aunque no se realicecambio de moneda. |
    | authorization | string | Código de autorización generado por el proveedor. |
    | receipt | string | Código de recibido de la petición de transacción. |
    | type | string | Identifica el funcionamiento de la transacción AUTH_ONLY = Captura normal CAPTURE_ONLY = La transaccióndebe ser aprobada desde la consola. |
    | refunded | bool | Determina si se ha realizado un reverso sobre esta transacción. |
    | lastDigits | string | Últimos 4 dígitos de la tarjeta empleada. |
    | additional | array | Datos adicionales empleados en la transacción. |

    **Información adicional**

    Números de tarjeta de pruebas

    Es importante definir que estas tarjetas solo tienen dicho comportamiento en el ambiente de pruebas


    | Franquicia | Número | Comportamiento |
    |-----------|------|-------------|
    | VISA | 4007000000027 | Aprueba |
    | VISA | 41111111111111111 | Aprueba |
    | VISA | 4212121212121214  | Pendiente |
    | VISA | 4005580000000040  | Rechazada |
    | MASTERCARD | 5424000000000015 | Aprueba |
    | AMERICAN EXPRESS | 370000000000002 | Aprueba |
    | DINERS  | 36018623456787 | Aprueba |
    | CREDENCIAL | 5406251000000008 | Aprueba |
servers:
  - url: 'https://test.placetopay.com/'
    description: Modo Pruebas Colombia
  - url: 'https://test.placetopay.ec/'
    description: Modo Pruebas Ecuador
paths:
  /rest/gateway/query:
    post:
      summary: Consulta de transacción
      operationId: post-rest-gateway-query
      responses:
        '200':
          description: |-
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string |Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED, CREDIBANCO etc)|
            | internalReference | bigint | Código único que identifica la transacción en los sistemas de PlacetoPay. |
            | reference | string | Referencia provista por el comercio. |
            | paymentMethod | string(5) | Código que identifica el medio de pago usado
            | franchise | string | Código de franquicia usado en la transacción (diners, visa, master, discover, amex) |
            | franchiseName | string | Nombre de la franquicia usada. |
            | issuerName | string | Nombre del banco emisor de la tarjeta usada de acuerdo a nuestro listado de bines. |
            | amount | Amount | Valores asociados a la transacción. |
            | conversion | AmountConversion | Valores de conversión usados para la transacción, siempre presente aunque no se realice cambio de moneda. |
            | authorization | string | Código de autorización generado por el proveedor. |
            | receipt | string | Código de recibido de la petición de transacción. |
            | type | string | Identifica el funcionamiento de la transacción AUTH_ONLY = Captura normal CAPTURE_ONLY = La transacción debe ser aprobada desde la consola |
            | refunded | bool | Determina si se ha realizado un reverso sobre esta transacción. |
            | lastDigits | string | Últimos 4 dígitos de la tarjeta empleada. |
            | additional | array | Datos adicionales empleados en la transacción. |
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      status:
                        type: string
                        minLength: 1
                      reason:
                        type: string
                        minLength: 1
                      message:
                        type: string
                        minLength: 1
                      date:
                        type: string
                        minLength: 1
                    required:
                      - status
                      - reason
                      - message
                      - date
                  date:
                    type: string
                    minLength: 1
                  transactionDate:
                    type: string
                    minLength: 1
                  internalReference:
                    type: number
                  reference:
                    type: string
                    minLength: 1
                  paymentMethod:
                    type: string
                    minLength: 1
                  franchise:
                    type: string
                    minLength: 1
                  franchiseName:
                    type: string
                    minLength: 1
                  issuerName:
                    type: string
                    minLength: 1
                  amount:
                    type: object
                    properties:
                      taxes:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          required:
                            - kind
                            - amount
                            - base
                          properties:
                            kind:
                              type: string
                              minLength: 1
                            amount:
                              type: number
                            base:
                              type: number
                      details:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          required:
                            - kind
                          properties:
                            kind:
                              type: string
                              minLength: 1
                      currency:
                        type: string
                        minLength: 1
                      total:
                        type: string
                        minLength: 1
                    required:
                      - taxes
                      - details
                      - currency
                      - total
                  conversion:
                    type: object
                    properties:
                      from:
                        type: object
                        properties:
                          currency:
                            type: string
                            minLength: 1
                          total:
                            type: string
                            minLength: 1
                        required:
                          - currency
                          - total
                      to:
                        type: object
                        properties:
                          currency:
                            type: string
                            minLength: 1
                          total:
                            type: string
                            minLength: 1
                        required:
                          - currency
                          - total
                      factor:
                        type: number
                    required:
                      - from
                      - to
                      - factor
                  authorization:
                    type: string
                    minLength: 1
                  receipt:
                    type: string
                    minLength: 1
                  type:
                    type: string
                    minLength: 1
                  refunded:
                    type: boolean
                  lastDigits:
                    type: string
                    minLength: 1
                  provider:
                    type: string
                    minLength: 1
                  discount: {}
                  processorFields:
                    type: object
                    properties:
                      id:
                        type: string
                        minLength: 1
                      b24:
                        type: string
                        minLength: 1
                    required:
                      - id
                      - b24
                  additional:
                    type: object
                    properties:
                      merchantCode:
                        type: string
                        minLength: 1
                      terminalNumber:
                        type: string
                        minLength: 1
                      bin:
                        type: string
                        minLength: 1
                      expiration:
                        type: string
                        minLength: 1
                      installments:
                        type: number
                    required:
                      - merchantCode
                      - terminalNumber
                      - bin
                      - expiration
                      - installments
                required:
                  - status
                  - date
                  - transactionDate
                  - internalReference
                  - reference
                  - paymentMethod
                  - franchise
                  - franchiseName
                  - issuerName
                  - amount
                  - conversion
                  - authorization
                  - receipt
                  - type
                  - refunded
                  - lastDigits
                  - provider
                  - processorFields
                  - additional
              examples:
                Ejemplo:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-03-02T12:35:35-05:00'
                    date: '2021-03-02T11:47:04-05:00'
                    transactionDate: '2021-03-02T11:47:04-05:00'
                    internalReference: 1505728229
                    reference: TEST_20171108_144400
                    paymentMethod: CR_VS
                    franchise: visa
                    franchiseName: Visa
                    issuerName: 'JPMORGAN CHASE BANK, N.A.'
                    amount:
                      taxes:
                        - kind: valueAddedTax
                          amount: 0
                          base: 0
                      details:
                        - kind: shipping
                        - kind: tip
                      currency: COP
                      total: '1000.00'
                    conversion:
                      from:
                        currency: COP
                        total: '1000.00'
                      to:
                        currency: COP
                        total: '1000.00'
                      factor: 1
                    authorization: '999999'
                    receipt: '1020330770'
                    type: AUTH_ONLY
                    refunded: false
                    lastDigits: '****1111'
                    provider: CREDIBANCO
                    discount: null
                    processorFields:
                      id: c3e5a278db727933e12796139cdbf506
                      b24: '000'
                    additional:
                      merchantCode: '011271442'
                      terminalNumber: '00057742'
                      bin: '411111'
                      expiration: '0222'
                      installments: 1
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                      minLength: 1
                    tranKey:
                      type: string
                      minLength: 1
                    nonce:
                      type: string
                      minLength: 1
                    seed:
                      type: string
                      minLength: 1
                  required:
                    - login
                    - tranKey
                    - nonce
                    - seed
                internalReference:
                  type: number
              required:
                - auth
                - internalReference
            examples:
              Ejemplo:
                value:
                  auth:
                    login: 6dd490faf9cb87a9862245da41170ff2
                    tranKey: JUfKi8+W//kX43WZd8FcnNsdl7zkaeAQdmSOudWcVi0=
                    nonce: MzgwYWYwMjc2ZWUzODA5YmI1MDQ1YmNjYzdlNzY1MTY=
                    seed: '2021-03-02T17:03:50+01:00'
                  internalReference: 1449216982
        description: |-
          Consulta de transacción (queryTransaction)
          POST /gateway/query

          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | auth | Authentication | Información de autenticación del sitio. |
          | internalReference | bigint | Código único que representa la transacción en PlacetoPay. |
      description: Permite consultar una transaccion.
      tags:
        - Consulta de una transaccion
  /rest/gateway/information:
    post:
      summary: Solicitud de Información
      operationId: post-rest-gateway-information
      responses:
        '200':
          description: |-
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string |Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED, CREDIBANCO etc) |
            | cardTypes | string[] | Tipos de tarjeta soportados |
            | requireOtp | bool | Determina si se necesita un OTP para procesar. |
            | requireCvv2 | bool | Determina si se requiere obtener el CVV2 del usuario. |
            | three DS3DSecure | string | Determina si la tarjeta requiere una autenticación previa con el servicio de 3DSecure (unsupported, required, optional) |
            | credits | Credit[] | Arreglo de tipos de crédito disponibles, arreglo vacío si no es soportado por el proveedor. |


            En el ejemplo de la respuesta hay un tipo de crédito “DIF PLUS PAGO TOTAL” y este tiene 3, 6, 9 ,12 en el arreglo de installments, se debe dar la opción al usuario de seleccionar

            DIF PLUS PAGO TOTAL (3) meses
            DIF PLUS PAGO TOTAL (6) meses
            DIF PLUS PAGO TOTAL (9) meses
            DIF PLUS PAGO TOTAL (12) meses

            Y así sucesivamente, este es un ejemplo de como se muestran en el servicio de redirección en un select
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      status:
                        type: string
                        minLength: 1
                      reason:
                        type: string
                        minLength: 1
                      message:
                        type: string
                        minLength: 1
                      date:
                        type: string
                        minLength: 1
                    required:
                      - status
                      - reason
                      - message
                      - date
                  provider:
                    type: string
                    minLength: 1
                  serviceCode:
                    type: string
                    minLength: 1
                  cardType:
                    type: string
                    minLength: 1
                  cardTypes:
                    type: array
                    items:
                      required: []
                      properties: {}
                  displayInterest:
                    type: boolean
                  requireOtp:
                    type: boolean
                  requireCvv2:
                    type: boolean
                  threeDS:
                    type: string
                    minLength: 1
                  credits:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - description
                        - code
                        - groupCode
                        - type
                      properties:
                        description:
                          type: string
                          minLength: 1
                        code:
                          type: string
                          minLength: 1
                        groupCode:
                          type: string
                          minLength: 1
                        type:
                          type: string
                          minLength: 1
                        installments:
                          type: array
                          items:
                            required: []
                            properties: {}
                required:
                  - status
                  - provider
                  - serviceCode
                  - cardType
                  - cardTypes
                  - displayInterest
                  - requireOtp
                  - requireCvv2
                  - threeDS
                  - credits
              examples:
                Ejemplo:
                  value:
                    status:
                      status: OK
                      reason: '00'
                      message: La petición se ha procesado correctamente
                      date: '2021-03-02T11:04:16-05:00'
                    provider: CREDIBANCO
                    serviceCode: CR_VS
                    cardType: C
                    cardTypes:
                      - C
                      - R
                      - A
                    displayInterest: false
                    requireOtp: false
                    requireCvv2: true
                    threeDS: unsupported
                    credits:
                      - description: Cuotas
                        code: '0'
                        groupCode: C
                        type: '00'
                        installments:
                          - 1
                          - 2
                          - 3
                          - 4
                          - 5
                          - 6
                          - 7
                          - 8
                          - 9
                          - 10
                          - 11
                          - 12
                          - 13
                          - 14
                          - 15
                          - 16
                          - 17
                          - 18
                          - 19
                          - 20
                          - 21
                          - 22
                          - 23
                          - 24
                          - 25
                          - 26
                          - 27
                          - 28
                          - 29
                          - 30
                          - 31
                          - 32
                          - 33
                          - 34
                          - 35
                          - 36
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                      minLength: 1
                    tranKey:
                      type: string
                      minLength: 1
                    nonce:
                      type: string
                      minLength: 1
                    seed:
                      type: string
                      minLength: 1
                  required:
                    - login
                    - tranKey
                    - nonce
                    - seed
                instrument:
                  type: object
                  properties:
                    card:
                      type: object
                      properties:
                        number:
                          type: string
                          minLength: 1
                      required:
                        - number
                  required:
                    - card
                payment:
                  type: object
                  properties:
                    reference:
                      type: string
                      minLength: 1
                    amount:
                      type: object
                      properties:
                        total:
                          type: number
                        currency:
                          type: string
                          minLength: 1
                      required:
                        - total
                        - currency
                  required:
                    - reference
                    - amount
              required:
                - auth
                - instrument
                - payment
            examples:
              Ejemplo:
                value:
                  auth:
                    login: 6dd490faf9cb87a9862245da41170ff2
                    tranKey: JUfKi8+W//kX43WZd8FcnNsdl7zkaeAQdmSOudWcVi0=
                    nonce: MzgwYWYwMjc2ZWUzODA5YmI1MDQ1YmNjYzdlNzY1MTY=
                    seed: '2021-03-02T17:03:50+01:00'
                  instrument:
                    card:
                      number: '4111111111111111'
                  payment:
                    reference: testing_12
                    amount:
                      total: 1000
                      currency: COP
        description: |-
          Solicitud de Información (informationRequest)
          POST /gateway/information

          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | auth | Authentication | Información de autenticación del sitio. |
          | instrument | Instrument | Estructura de entrada para la tarjeta o token. | 
          | payment | Payment | Información simple del cobro a realizar. |
      description: |
        Este servicio proporciona información sobre la tarjeta del usuario que se va a procesar, tal como qué servicios son los que se usarán para ella y los tipos de crédito, si aplica, que hay para esta, si no hay tipos de crédito se retorna un arreglo vacío y si los hay, se debe iterar cada tipo de crédito con los installments que se encuentran en el arreglo.
      tags:
        - Solicitar informacion de una Tarjeta
  /rest/gateway/process/:
    post:
      summary: Cobrar Tokenizacion
      operationId: post-gateway-process
      responses:
        '200':
          description: |-
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string | Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED) |
            | internalReference | bigint | Código único que identifica la transacción en los sistemas de PlacetoPay. |
            | reference | string | Referencia provista por el comercio. |
            | paymentMethod | string(5) | Código que identifica el medio de pago usado. |
            | franchise | string | Código de franquicia usado en la transacción (diners, visa, master, discover, amex). |
            | franchiseName | string | Nombre de la franquicia usada. |
            | issuerName | string | Nombre del banco emisor de la tarjeta usada de acuerdo a nuestro listado de bines. |
            | amount | Amount | Valores asociados a la transacción. |
            | conversion | AmountConversion | Valores de conversión usados para la transacción, siempre presente aunque no se realice cambio de moneda. |
            | authorization | string | Código de autorización generado por el proveedor. |
            | receipt | string | Código de recibido de la petición de transacción. |
            | type | string | Identifica el funcionamiento de la transacción AUTH_ONLY = Captura normal CAPTURE_ONLY = La transacción debe ser aprobada desde la consola. |
            | refunded | bool | Determina si se ha realizado un reverso sobre esta transacción. |
            | lastDigits | string | Últimos 4 dígitos de la tarjeta empleada. |
            | additional | array | Datos adicionales empleados en la transacción. |
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      status:
                        type: string
                        minLength: 1
                      reason:
                        type: string
                        minLength: 1
                      message:
                        type: string
                        minLength: 1
                      date:
                        type: string
                        minLength: 1
                    required:
                      - status
                      - reason
                      - message
                      - date
                  date:
                    type: string
                    minLength: 1
                  transactionDate:
                    type: string
                    minLength: 1
                  internalReference:
                    type: number
                  reference:
                    type: string
                    minLength: 1
                  paymentMethod:
                    type: string
                    minLength: 1
                  franchise:
                    type: string
                    minLength: 1
                  franchiseName:
                    type: string
                    minLength: 1
                  issuerName:
                    type: string
                    minLength: 1
                  amount:
                    type: object
                    properties:
                      currency:
                        type: string
                        minLength: 1
                      total:
                        type: number
                    required:
                      - currency
                      - total
                  conversion:
                    type: object
                    properties:
                      from:
                        type: object
                        properties:
                          currency:
                            type: string
                            minLength: 1
                          total:
                            type: number
                        required:
                          - currency
                          - total
                      to:
                        type: object
                        properties:
                          currency:
                            type: string
                            minLength: 1
                          total:
                            type: number
                        required:
                          - currency
                          - total
                      factor:
                        type: number
                    required:
                      - from
                      - to
                      - factor
                  authorization:
                    type: string
                    minLength: 1
                  receipt:
                    type: number
                  type:
                    type: string
                    minLength: 1
                  refunded:
                    type: boolean
                  lastDigits:
                    type: string
                    minLength: 1
                  provider:
                    type: string
                    minLength: 1
                  discount: {}
                  processorFields:
                    type: object
                    properties:
                      id:
                        type: string
                        minLength: 1
                      b24:
                        type: string
                        minLength: 1
                    required:
                      - id
                      - b24
                  additional:
                    type: object
                    properties:
                      merchantCode:
                        type: string
                        minLength: 1
                      terminalNumber:
                        type: string
                        minLength: 1
                      bin:
                        type: string
                        minLength: 1
                      expiration:
                        type: string
                        minLength: 1
                      installments:
                        type: string
                        minLength: 1
                    required:
                      - merchantCode
                      - terminalNumber
                      - bin
                      - expiration
                      - installments
                required:
                  - status
                  - date
                  - transactionDate
                  - internalReference
                  - reference
                  - paymentMethod
                  - franchise
                  - franchiseName
                  - issuerName
                  - amount
                  - conversion
                  - authorization
                  - receipt
                  - type
                  - refunded
                  - lastDigits
                  - provider
                  - processorFields
                  - additional
              examples:
                Ejemplo:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-03-02T11:47:04-05:00'
                    date: '2021-03-02T11:47:04-05:00'
                    transactionDate: '2021-03-02T11:47:04-05:00'
                    internalReference: 1505728229
                    reference: TEST_20171108_144400
                    paymentMethod: CR_VS
                    franchise: visa
                    franchiseName: Visa
                    issuerName: 'JPMORGAN CHASE BANK, N.A.'
                    amount:
                      currency: COP
                      total: 1000
                    conversion:
                      from:
                        currency: COP
                        total: 1000
                      to:
                        currency: COP
                        total: 1000
                      factor: 1
                    authorization: '999999'
                    receipt: 1020330770
                    type: AUTH_ONLY
                    refunded: false
                    lastDigits: '****1111'
                    provider: CREDIBANCO
                    discount: null
                    processorFields:
                      id: c3e5a278db727933e12796139cdbf506
                      b24: '000'
                    additional:
                      merchantCode: '011271442'
                      terminalNumber: '00057742'
                      bin: '411111'
                      expiration: '0222'
                      installments: '1'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                      minLength: 1
                    tranKey:
                      type: string
                      minLength: 1
                    nonce:
                      type: string
                      minLength: 1
                    seed:
                      type: string
                      minLength: 1
                  required:
                    - login
                    - tranKey
                    - nonce
                    - seed
                locale:
                  type: string
                  minLength: 1
                payment:
                  type: object
                  properties:
                    reference:
                      type: string
                      minLength: 1
                    description:
                      type: string
                      minLength: 1
                    amount:
                      type: object
                      properties:
                        currency:
                          type: string
                          minLength: 1
                        total:
                          type: number
                      required:
                        - currency
                        - total
                  required:
                    - reference
                    - description
                    - amount
                ipAddress:
                  type: string
                  minLength: 1
                userAgent:
                  type: string
                  minLength: 1
                instrument:
                  type: object
                  properties:
                    token:
                      type: object
                      properties:
                        token:
                          type: string
                          minLength: 1
                        subtoken:
                          type: string
                          minLength: 1
                        franchise:
                          type: string
                          minLength: 1
                        franchiseName:
                          type: string
                          minLength: 1
                        issuerName:
                          type: string
                          minLength: 1
                        lastDigits:
                          type: string
                          minLength: 1
                        validUntil:
                          type: string
                          minLength: 1
                      required:
                        - token
                        - subtoken
                        - franchise
                        - franchiseName
                        - issuerName
                        - lastDigits
                        - validUntil
                    credit:
                      type: object
                      properties:
                        code:
                          type: string
                          minLength: 1
                        type:
                          type: string
                          minLength: 1
                        groupCode:
                          type: string
                          minLength: 1
                        installment:
                          type: string
                          minLength: 1
                      required:
                        - code
                        - type
                        - groupCode
                        - installment
                  required:
                    - token
                    - credit
                payer:
                  type: object
                  properties:
                    document:
                      type: string
                      minLength: 1
                    documentType:
                      type: string
                      minLength: 1
                    name:
                      type: string
                      minLength: 1
                    surname:
                      type: string
                      minLength: 1
                    email:
                      type: string
                      minLength: 1
                    mobile:
                      type: string
                      minLength: 1
                  required:
                    - document
                    - documentType
                    - name
                    - surname
                    - email
                    - mobile
                buyer:
                  type: object
                  properties:
                    document:
                      type: string
                      minLength: 1
                    documentType:
                      type: string
                      minLength: 1
                    name:
                      type: string
                      minLength: 1
                    surname:
                      type: string
                      minLength: 1
                    email:
                      type: string
                      minLength: 1
                    mobile:
                      type: string
                      minLength: 1
                  required:
                    - document
                    - documentType
                    - name
                    - surname
                    - email
                    - mobile
              required:
                - auth
                - locale
                - payment
                - ipAddress
                - userAgent
                - instrument
                - payer
                - buyer
            examples:
              Ejemplo para Colombia:
                value:
                  auth:
                    login: 6dd490faf9cb87a9862245da41170ff2
                    tranKey: Lz3OSXV58JePuY0b/bXmxzg2Ee4/8jSCU9s7Kqwm9SQ=
                    nonce: NGUwNWVmMzAxZDhhZjY0N2M4YTdmYmUwNjU1NTA1NzQ=
                    seed: '2021-03-02T17:46:46+01:00'
                  locale: es_CO
                  payment:
                    reference: TEST_20171108_144400
                    description: Prueba rest colombia.
                    amount:
                      currency: COP
                      total: 1000
                  ipAddress: 127.0.0.1
                  userAgent: Mozilla/5.0 USER_AGENT HERE
                  instrument:
                    token:
                      token: bd8663e5f5635ff6e84e39171978de3aac5fb4cdf16b9c78ba1f8d9d049c86d2
                      subtoken: '9684994211631111'
                      franchise: visa
                      franchiseName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      lastDigits: '1111'
                      validUntil: '2022-02-28'
                    credit:
                      code: '0'
                      type: '00'
                      groupCode: C
                      installment: '1'
                  payer:
                    document: '8467451900'
                    documentType: CC
                    name: Miss Delia Schamberger Sr.
                    surname: Wisozk
                    email: tesst@gmail.com
                    mobile: '3006108300'
                  buyer:
                    document: '8467451900'
                    documentType: CC
                    name: Miss Delia Schamberger Sr.
                    surname: Wisozk
                    email: tesst@gmail.com
                    mobile: '3006108300'
              Ejemplo para Ecuador:
                value:
                  auth:
                    login: 45974e82a3867355d3471bc4a1f18a1c
                    tranKey: /K9f7yJpyptkPrADFWoWYsO5yZU=
                    nonce: WW1aa01XWXlOVEEzT1RoalptSmpOalEzT1dNd05UTXlZMkUwWlRRME1UVT0=
                    seed: '2018-01-29T17:09:38-05:00'
                  locale: es_EC
                  payment:
                    reference: TEST_20171108_144400
                    description: Ipsam quia sunt dolore minus atque blanditiis corrupti.
                    amount:
                      taxes:
                        - kind: ice
                          amount: 4.8
                          base: 40
                        - kind: valueAddedTax
                          amount: 7.6
                          base: 40
                      details:
                        - kind: shipping
                          amount: 2
                        - kind: tip
                          amount: 2
                        - kind: subtotal
                          amount: 40
                      currency: USD
                      total: 56.4
                  ipAddress: 127.0.0.1
                  userAgent: Mozilla/5.0 USER_AGENT HERE
                  additional:
                    SOME_ADDITIONAL: 'http://example.com/yourcheckout'
                  instrument:
                    token:
                      token: bd8663e5f5635ff6e84e39171978de3aac5fb4cdf16b9c78ba1f8d9d049c86d2
                      subtoken: '9684994211631111'
                      franchise: visa
                      franchiseName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      lastDigits: '1111'
                      validUntil: '2022-02-28'
                    credit:
                      code: '1'
                      type: '02'
                      groupCode: P
                      installment: '24'
                    otp: a8ecc59c2510a8ae27e1724ebf4647b5
                  payer:
                    document: '8467451900'
                    documentType: CC
                    name: Miss Delia Schamberger Sr.
                    surname: Wisozk
                    email: tesst@gmail.com
                    mobile: '3006108300'
                  buyer:
                    document: '8467451900'
                    documentType: CC
                    name: Miss Delia Schamberger Sr.
                    surname: Wisozk
                    email: tesst@gmail.com
                    mobile: '3006108300'
        description: |-
          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | auth | Authentication | Información de autenticación del sitio. |
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | payment | Payment | Información completa del cobro a realizar. |
          | instrument | Instrument | Estructura de entrada para la tarjeta o token. |
          | payer | Person | Información del pagador. |
          | buyer | Person | Información del comprador. |
          | ipAddress | string | IP del usuario que realiza la transacción. |
          | userAgent | string | UserAgent del usuario que realiza la transacción. |
          | additional | string[] | Arreglo clave valor de datos que se deseen adicionar y que serán almacenados. |
      description: 'Este servicio permite que se realice el cobro a la tarjeta del usuario ya tokenizada, los parámetros del instrument son variables, si no se pide tipo de crédito ni otp no es necesario enviar esas variables, payer es siempre requerido, buyer es opcional pero recomendado.'
      tags:
        - Procesamiento de transaccion
    parameters: []
  /rest/gateway/process:
    post:
      summary: Procesamiento de transacción
      operationId: post-gateway-process
      responses:
        '200':
          description: |-
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string | Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED) |
            | internalReference | bigint | Código único que identifica la transacción en los sistemas de PlacetoPay. |
            | reference | string | Referencia provista por el comercio. |
            | paymentMethod | string(5) | Código que identifica el medio de pago usado. |
            | franchise | string | Código de franquicia usado en la transacción (diners, visa, master, discover, amex). |
            | franchiseName | string | Nombre de la franquicia usada. |
            | issuerName | string | Nombre del banco emisor de la tarjeta usada de acuerdo a nuestro listado de bines. |
            | amount | Amount | Valores asociados a la transacción. |
            | conversion | AmountConversion | Valores de conversión usados para la transacción, siempre presente aunque no se realice cambio de moneda. |
            | authorization | string | Código de autorización generado por el proveedor. |
            | receipt | string | Código de recibido de la petición de transacción. |
            | type | string | Identifica el funcionamiento de la transacción AUTH_ONLY = Captura normal CAPTURE_ONLY = La transacción debe ser aprobada desde la consola. |
            | refunded | bool | Determina si se ha realizado un reverso sobre esta transacción. |
            | lastDigits | string | Últimos 4 dígitos de la tarjeta empleada. |
            | additional | array | Datos adicionales empleados en la transacción. |
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      status:
                        type: string
                        minLength: 1
                      reason:
                        type: string
                        minLength: 1
                      message:
                        type: string
                        minLength: 1
                      date:
                        type: string
                        minLength: 1
                    required:
                      - status
                      - reason
                      - message
                      - date
                  date:
                    type: string
                    minLength: 1
                  transactionDate:
                    type: string
                    minLength: 1
                  internalReference:
                    type: number
                  reference:
                    type: string
                    minLength: 1
                  paymentMethod:
                    type: string
                    minLength: 1
                  franchise:
                    type: string
                    minLength: 1
                  franchiseName:
                    type: string
                    minLength: 1
                  issuerName:
                    type: string
                    minLength: 1
                  amount:
                    type: object
                    properties:
                      currency:
                        type: string
                        minLength: 1
                      total:
                        type: number
                    required:
                      - currency
                      - total
                  conversion:
                    type: object
                    properties:
                      from:
                        type: object
                        properties:
                          currency:
                            type: string
                            minLength: 1
                          total:
                            type: number
                        required:
                          - currency
                          - total
                      to:
                        type: object
                        properties:
                          currency:
                            type: string
                            minLength: 1
                          total:
                            type: number
                        required:
                          - currency
                          - total
                      factor:
                        type: number
                    required:
                      - from
                      - to
                      - factor
                  authorization:
                    type: string
                    minLength: 1
                  receipt:
                    type: number
                  type:
                    type: string
                    minLength: 1
                  refunded:
                    type: boolean
                  lastDigits:
                    type: string
                    minLength: 1
                  provider:
                    type: string
                    minLength: 1
                  discount: {}
                  processorFields:
                    type: object
                    properties:
                      id:
                        type: string
                        minLength: 1
                      b24:
                        type: string
                        minLength: 1
                    required:
                      - id
                      - b24
                  additional:
                    type: object
                    properties:
                      merchantCode:
                        type: string
                        minLength: 1
                      terminalNumber:
                        type: string
                        minLength: 1
                      bin:
                        type: string
                        minLength: 1
                      expiration:
                        type: string
                        minLength: 1
                      installments:
                        type: string
                        minLength: 1
                    required:
                      - merchantCode
                      - terminalNumber
                      - bin
                      - expiration
                      - installments
                required:
                  - status
                  - date
                  - transactionDate
                  - internalReference
                  - reference
                  - paymentMethod
                  - franchise
                  - franchiseName
                  - issuerName
                  - amount
                  - conversion
                  - authorization
                  - receipt
                  - type
                  - refunded
                  - lastDigits
                  - provider
                  - processorFields
                  - additional
              examples:
                'Ejemplo ':
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-03-02T11:47:04-05:00'
                    date: '2021-03-02T11:47:04-05:00'
                    transactionDate: '2021-03-02T11:47:04-05:00'
                    internalReference: 1505728229
                    reference: TEST_20171108_144400
                    paymentMethod: CR_VS
                    franchise: visa
                    franchiseName: Visa
                    issuerName: 'JPMORGAN CHASE BANK, N.A.'
                    amount:
                      currency: COP
                      total: 1000
                    conversion:
                      from:
                        currency: COP
                        total: 1000
                      to:
                        currency: COP
                        total: 1000
                      factor: 1
                    authorization: '999999'
                    receipt: 1020330770
                    type: AUTH_ONLY
                    refunded: false
                    lastDigits: '****1111'
                    provider: CREDIBANCO
                    discount: null
                    processorFields:
                      id: c3e5a278db727933e12796139cdbf506
                      b24: '000'
                    additional:
                      merchantCode: '011271442'
                      terminalNumber: '00057742'
                      bin: '411111'
                      expiration: '0222'
                      installments: '1'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                    tranKey:
                      type: string
                    nonce:
                      type: string
                    seed:
                      type: string
                locale:
                  type: string
                payment:
                  type: object
                  properties:
                    reference:
                      type: string
                    description:
                      type: string
                    amount:
                      type: object
                      properties:
                        currency:
                          type: string
                        total:
                          type: number
                ipAddress:
                  type: string
                userAgent:
                  type: string
                instrument:
                  type: object
                  properties:
                    card:
                      type: object
                      properties:
                        number:
                          type: number
                        expirationMonth:
                          type: number
                        expirationYear:
                          type: number
                        cvv:
                          type: number
                    credit:
                      type: object
                      properties:
                        code:
                          type: number
                        type:
                          type: number
                        groupCode:
                          type: string
                        installment:
                          type: number
                payer:
                  type: object
                  properties:
                    document:
                      type: number
                    documentType:
                      type: string
                    name:
                      type: string
                    surname:
                      type: string
                    email:
                      type: string
                    mobile:
                      type: string
                buyer:
                  type: object
                  properties:
                    document:
                      type: number
                    documentType:
                      type: string
                    name:
                      type: string
                    email:
                      type: string
                    '':
                      type: string
            examples:
              Ejemplo para Colombia:
                value:
                  auth:
                    login: 6dd490faf9cb87a9862245da41170ff2
                    tranKey: JUfKi8+W//kX43WZd8FcnNsdl7zkaeAQdmSOudWcVi0=
                    nonce: MzgwYWYwMjc2ZWUzODA5YmI1MDQ1YmNjYzdlNzY1MTY=
                    seed: '2021-03-02T17:03:50+01:00'
                  locale: es_CO
                  payment:
                    reference: TEST_20171108_144400
                    description: Prueba rest colombia.
                    amount:
                      currency: COP
                      total: 1000
                  ipAddress: 127.0.0.1
                  userAgent: Mozilla/5.0 USER_AGENT HERE
                  instrument:
                    card:
                      number: '4111111111111111'
                      expirationMonth: '12'
                      expirationYear: '22'
                      cvv: '123'
                    credit:
                      code: '0'
                      type: '00'
                      groupCode: C
                      installment: '1'
                  payer:
                    document: '8467451900'
                    documentType: CC
                    name: Miss Delia Schamberger Sr.
                    surname: Wisozk
                    email: tesst@gmail.com
                    mobile: '3006108300'
                  buyer:
                    document: '8467451900'
                    documentType: CC
                    name: Miss Delia Schamberger Sr.
                    surname: Wisozk
                    email: tesst@gmail.com
                    mobile: '3006108300'
              Ejemplo para Ecuador:
                value:
                  auth:
                    login: 45974e82a3867355d3471bc4a1f18a1c
                    tranKey: /K9f7yJpyptkPrADFWoWYsO5yZU=
                    nonce: WW1aa01XWXlOVEEzT1RoalptSmpOalEzT1dNd05UTXlZMkUwWlRRME1UVT0=
                    seed: '2018-01-29T17:09:38-05:00'
                  locale: es_EC
                  payment:
                    reference: TEST_20171108_144400
                    description: Ipsam quia sunt dolore minus atque blanditiis corrupti.
                    amount:
                      taxes:
                        - kind: ice
                          amount: 4.8
                          base: 40
                        - kind: valueAddedTax
                          amount: 7.6
                          base: 40
                      details:
                        - kind: shipping
                          amount: 2
                        - kind: tip
                          amount: 2
                        - kind: subtotal
                          amount: 40
                      currency: USD
                      total: 56.4
                  ipAddress: 127.0.0.1
                  userAgent: Mozilla/5.0 USER_AGENT HERE
                  additional:
                    SOME_ADDITIONAL: 'http://example.com/yourcheckout'
                  instrument:
                    card:
                      number: '36545400000008'
                      expirationMonth: '12'
                      expirationYear: '21'
                      cvv: '123'
                    credit:
                      code: '1'
                      type: '02'
                      groupCode: P
                      installment: '24'
                    otp: a8ecc59c2510a8ae27e1724ebf4647b5
                  payer:
                    document: '8467451900'
                    documentType: CC
                    name: Miss Delia Schamberger Sr.
                    surname: Wisozk
                    email: tesst@gmail.com
                    mobile: '3006108300'
                  buyer:
                    document: '8467451900'
                    documentType: CC
                    name: Miss Delia Schamberger Sr.
                    surname: Wisozk
                    email: tesst@gmail.com
                    mobile: '3006108300'
        description: |-
          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | auth | Authentication | Información de autenticación del sitio. |
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | payment | Payment | Información completa del cobro a realizar. |
          | instrument | Instrument | Estructura de entrada para la tarjeta o token. |
          | payer | Person | Información del pagador. |
          | buyer | Person | Información del comprador. |
          | ipAddress | string | IP del usuario que realiza la transacción. |
          | userAgent | string | UserAgent del usuario que realiza la transacción. |
          | additional | string[] | Arreglo clave valor de datos que se deseen adicionar y que serán almacenados. |
      description: 'Este servicio permite que se realice el cobro a la tarjeta del usuario, los parámetros del instrument son variables, si no se pide tipo de crédito ni otp no es necesario enviar esas variables, payer es siempre requerido, buyer es opcional pero recomendado.'
      tags:
        - Procesamiento de transaccion
    parameters: []
  '':
    post:
      summary: GetAuthentication
      operationId: post-p
      responses:
        '200':
          description: |
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | login | string | Identificador del sitio a usar. |
            | tranKey | string | Digest tranKey usando la `explicación provista` |
            | nonce | string | Valor aleatorio generado por cada petición en BASE64 |
            | seed | string | Fecha de generación de esta estructura en ISO 8601. |
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  login:
                    type: string
                    minLength: 1
                  tranKey:
                    type: string
                    minLength: 1
                  seed:
                    type: string
                    minLength: 1
                  nonce:
                    type: string
                    minLength: 1
                required:
                  - login
                  - tranKey
                  - seed
                  - nonce
              examples:
                ejemplo:
                  value:
                    login: 184053a1c182247d2f53964fdb109e00
                    tranKey: Z2n5PGApfqBSkYQPAJAeDNzE1eY=
                    seed: '2021-03-02T22:28:15+00:00'
                    nonce: MjA0NjIzODY1Ng==
      description: |
        Estructura que contiene la información de autenticación del sitio generada de acuerdo al WSSE UsernameToken Profile 1.1

        Todas las solicitudes al web deben ser autenticadas con Web Services Security UsernameToken Profile 1.1.
        https://www.oasis-open.org/committees/download.php/13392/wss-v1.1-spec-pr-UsernameTokenProfile-01.htm

        Usando PasswordDigest

        **PasswordDigest = Base64 ( SHA-256 ( nonce + seed + tranKey ) )**

        `El login y el secretKey son suministrados por PlacetoPay`

        `Esta estructura debe de ser enviada en cada petición realizada al servicio`

         `El seed no puede tener diferencia de más de 5 minutos.`
         

        **Solución de problemas**

        Códigos de respuesta para la autenticación fallida y su significado.

        | Codigo | Significado |
        |-----------|-------------|
        | 100 | UsernameToken no proporcionado (encabezado de la autorización malformado) |
        | 101  | Identificador de sitio no existe ( login incorrecto o no se encuentra en el ambiente) |
        | 102  | El hash de TranKey no coincide (Trankey incorrecto o malformado) |
        | 103  | Fecha de la semilla mayor de 5 minutos |
        | 104  | Sitio inactivo |
        | 105  | Sitio expirado |
        | 106  | Credenciales expiradas |
        | 107  | Mala definición del UsernameToken (No cumple con el encabezado WSSE) |
        | 200  | Saltar el encabezado de autenticación SOAP |
        | 10001  | Contacte a Soporte |


        En la parte derecha puede simular la generacion de la autenticación requerida para cada una de las solicitudes que se realicen a la pasarela de pagos (webcheckout), dicho método recibe un login y un trankey por médio de una solicitud POST, internamente se realiza el procesamiento de la información para retornar una structura JSON que puede ser copiada y pegada en las demás solicitudes dentro del objeto auth.

        Cabe aclarar que éste método se provee cómo una ayuda para generar la estructura de autenticación de las solicitudes y no hace parte de los método de integración de webcheckout

        url referencia autenticación: https://placetopay.github.io/web-checkout-api-docs/?shell#authentication-ecuador
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                login:
                  type: string
                  minLength: 1
                trankey:
                  type: string
                  minLength: 1
              required:
                - login
                - trankey
            examples:
              Ejemplo:
                value:
                  login: 6dd490faf9cb87a9862245da41170ff2
                  trankey: Q0nj0QeRN0h1EH3H
        description: ''
      tags:
        - Autenticacion
    parameters: []
  /rest/gateway/tokenize:
    post:
      summary: Tokenización (tokenize)
      operationId: post-gateway-tokenize
      responses:
        '200':
          description: |-
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string | Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED ETC.) |
            | instrument | Instrument | Estructura de salida para el token. |
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      status:
                        type: string
                        minLength: 1
                      message:
                        type: string
                        minLength: 1
                      reason:
                        type: string
                        minLength: 1
                      date:
                        type: string
                        minLength: 1
                    required:
                      - status
                      - message
                      - reason
                      - date
                  provider:
                    type: string
                    minLength: 1
                  instrument:
                    type: object
                    properties:
                      token:
                        type: object
                        properties:
                          token:
                            type: string
                            minLength: 1
                          subtoken:
                            type: string
                            minLength: 1
                          franchise:
                            type: string
                            minLength: 1
                          franchiseName:
                            type: string
                            minLength: 1
                          issuerName:
                            type: string
                            minLength: 1
                          lastDigits:
                            type: string
                            minLength: 1
                          validUntil:
                            type: string
                            minLength: 1
                        required:
                          - token
                          - subtoken
                          - franchise
                          - franchiseName
                          - issuerName
                          - lastDigits
                          - validUntil
                    required:
                      - token
                required:
                  - status
                  - provider
                  - instrument
              examples:
                Ejemplo:
                  value:
                    status:
                      status: OK
                      message: Token generado exitosamente
                      reason: '00'
                      date: '2018-03-06T20:47:01-05:00'
                    provider: INTERDIN
                    instrument:
                      token:
                        token: 81135c6e8115b27e6a8afa4bce7d619503e87603d1fc4d139abea11b7c5e17ae
                        subtoken: '1493989062790008'
                        franchise: diners
                        franchiseName: Diners
                        issuerName: Diners Club
                        lastDigits: '0008'
                        validUntil: 12/21
      description: |
        Este servicio permite almacenar tarjetas de crédito de manera segura, a través de una petición que contenga la información de la misma, se generará un token que puede ser usado en el servicio de procesamiento y para todos los efectos, en PlacetoPay equivale a una tarjeta de crédito, la diferencia es que se envía la estructura token en vez de card.

        Previamente al consumo de este servicio se debe consultar el de información para saber si es necesario o no generar un OTP al cliente y en caso de ser necesario, solicitar el token a la persona y enviarlo en el consumo.
      tags:
        - Tokenizar una tarjeta
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                      minLength: 1
                    tranKey:
                      type: string
                      minLength: 1
                    nonce:
                      type: string
                      minLength: 1
                    seed:
                      type: string
                      minLength: 1
                  required:
                    - login
                    - tranKey
                    - nonce
                    - seed
                payer:
                  type: object
                  properties:
                    name:
                      type: string
                      minLength: 1
                    surname:
                      type: string
                      minLength: 1
                    email:
                      type: string
                      minLength: 1
                  required:
                    - name
                    - surname
                    - email
                instrument:
                  type: object
                  properties:
                    card:
                      type: object
                      properties:
                        number:
                          type: string
                          minLength: 1
                        expirationMonth:
                          type: string
                          minLength: 1
                        expirationYear:
                          type: string
                          minLength: 1
                        cvv:
                          type: string
                          minLength: 1
                      required:
                        - number
                        - expirationMonth
                        - expirationYear
                        - cvv
                  required:
                    - card
                ipAddress:
                  type: string
                  minLength: 1
                userAgent:
                  type: string
                  minLength: 1
              required:
                - auth
                - payer
                - instrument
                - ipAddress
                - userAgent
            examples:
              Ejemplo para Colombia:
                value:
                  auth:
                    login: 6dd490faf9cb87a9862245da41170ff2
                    tranKey: oE2tkiv7RFJ/IrnMmtGG8mAynZarF/nPSj5WHs9j9Qw=
                    nonce: ZDBhMmU1OWY5OTRlMGJmNjE4MzZmYWUzYmRjNjQyZjY=
                    seed: '2021-03-02T17:28:02+01:00'
                  payer:
                    name: Dr. Wilfredo Cole Sr.
                    surname: Corwin
                    email: jewell32@abbott.com
                  instrument:
                    card:
                      number: '4111111111111111'
                      expirationMonth: '02'
                      expirationYear: '22'
                      cvv: '123'
                  ipAddress: 127.0.0.1
                  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36'
              Ejemplo para Ecuador:
                value:
                  auth:
                    login: 6dd490faf9cb87a9862245da41170ff2
                    tranKey: xkDytkHMxIqiY1cCk+QjBXS0QjM=
                    nonce: T0RRM05UWTRNV0kyTWpJM1ptRXdZVFZoWmpnd1lqWmpNV0UzWW1VMU5EST0=
                    seed: '2017-11-01T16:23:21-05:00'
                  payer:
                    name: Dr. Wilfredo Cole Sr.
                    surname: Corwin
                    email: jewell32@abbott.com
                  instrument:
                    card:
                      number: '4111111111111111'
                      expirationMonth: '02'
                      expirationYear: '20'
                      cvv: '123'
                    otp: '123456'
                  ipAddress: 127.0.0.1
                  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36'
        description: |
          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | auth | Authentication | Información de autenticación del sitio. |
          | payer | Person | Información del propietario de la tarjeta. |
          | instrument | Instrument | Estructura de entrada para la tarjeta o token. |
          | ipAddress | string | IP del usuario que realiza la transacción. |
          | userAgent | string | UserAgent del usuario que realiza la transacción. |
    parameters: []
  /rest/gateway/transaction:
    post:
      summary: Reverso de transacción
      operationId: post-gateway-transaction
      responses:
        '200':
          description: |-
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string | Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED) |
            | internalReference | bigint | Código único que identifica la transacción en los sistemas de PlacetoPay. |
            | reference | string | Referencia provista por el comercio. |
            | paymentMethod | string(5) | Código que identifica el medio de pago usado. |
            | franchise | string | Código de franquicia usado en la transacción (diners, visa, master, discover, amex). |
            | franchiseName | string | Nombre de la franquicia usada. |
            | issuerName | string | Nombre del banco emisor de la tarjeta usada de acuerdo a nuestro listado de bines. |
            | amount | Amount | Valores asociados a la transacción. |
            | conversion | AmountConversion | Valores de conversión usados para la transacción, siempre presente aunque no se realice cambio de moneda. |
            | authorization | string | Código de autorización generado por el proveedor. |
            | receipt | string | Código de recibido de la petición de transacción. |
            | type | string | Identifica el funcionamiento de la transacción AUTH_ONLY = Captura normal CAPTURE_ONLY = La transacción debe ser aprobada desde la consola. |
            | refunded | bool | Determina si se ha realizado un reverso sobre esta transacción. |
            | lastDigits | string | Últimos 4 dígitos de la tarjeta empleada. |
            | additional | array | Datos adicionales empleados en la transacción. |
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      status:
                        type: string
                        minLength: 1
                      reason:
                        type: string
                        minLength: 1
                      message:
                        type: string
                        minLength: 1
                      date:
                        type: string
                        minLength: 1
                    required:
                      - status
                      - reason
                      - message
                      - date
                  internalReference:
                    type: number
                  reference:
                    type: string
                    minLength: 1
                  paymentMethod:
                    type: string
                    minLength: 1
                  franchise:
                    type: string
                    minLength: 1
                  franchiseName:
                    type: string
                    minLength: 1
                  issuerName:
                    type: string
                    minLength: 1
                  amount:
                    type: object
                    properties:
                      taxes:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          required:
                            - kind
                            - amount
                            - base
                          properties:
                            kind:
                              type: string
                              minLength: 1
                            amount:
                              type: number
                            base:
                              type: number
                      details:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          required:
                            - kind
                            - amount
                          properties:
                            kind:
                              type: string
                              minLength: 1
                            amount:
                              type: string
                              minLength: 1
                      currency:
                        type: string
                        minLength: 1
                      total:
                        type: string
                        minLength: 1
                    required:
                      - taxes
                      - details
                      - currency
                      - total
                  conversion:
                    type: object
                    properties:
                      from:
                        type: object
                        properties:
                          currency:
                            type: string
                            minLength: 1
                          total:
                            type: string
                            minLength: 1
                        required:
                          - currency
                          - total
                      to:
                        type: object
                        properties:
                          currency:
                            type: string
                            minLength: 1
                          total:
                            type: string
                            minLength: 1
                        required:
                          - currency
                          - total
                      factor:
                        type: number
                    required:
                      - from
                      - to
                      - factor
                  authorization: {}
                  receipt:
                    type: number
                  type:
                    type: string
                    minLength: 1
                  refunded:
                    type: boolean
                  lastDigits:
                    type: string
                    minLength: 1
                  provider:
                    type: string
                    minLength: 1
                  discount: {}
                  processorFields:
                    type: array
                    items:
                      required: []
                      properties: {}
                required:
                  - status
                  - internalReference
                  - reference
                  - paymentMethod
                  - franchise
                  - franchiseName
                  - issuerName
                  - amount
                  - conversion
                  - receipt
                  - type
                  - refunded
                  - lastDigits
                  - provider
                  - processorFields
              examples:
                Ejemplo:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2018-02-05T21:32:41-05:00'
                    internalReference: 1449217015
                    reference: TEST_20171108_144400
                    paymentMethod: ID_DN
                    franchise: diners
                    franchiseName: Diners
                    issuerName: Diners Club
                    amount:
                      taxes:
                        - kind: valueAddedTax
                          amount: 0
                          base: 0
                        - kind: ice
                          amount: 0
                          base: 0
                      details:
                        - kind: shipping
                          amount: '0.00'
                        - kind: tip
                          amount: '0.00'
                      currency: COP
                      total: '159939.56'
                    conversion:
                      from:
                        currency: COP
                        total: '159939.56'
                      to:
                        currency: USD
                        total: '56.43'
                      factor: 0.00035282077804890796
                    authorization: null
                    receipt: 1449217015
                    type: CREDIT
                    refunded: false
                    lastDigits: '0008'
                    provider: INTERDIN
                    discount: null
                    processorFields: []
      description: ''
      tags:
        - Reversar una transaccion
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                      minLength: 1
                    tranKey:
                      type: string
                      minLength: 1
                    nonce:
                      type: string
                      minLength: 1
                    seed:
                      type: string
                      minLength: 1
                  required:
                    - login
                    - tranKey
                    - nonce
                    - seed
                internalReference:
                  type: number
                authorization:
                  type: string
                  minLength: 1
                action:
                  type: string
                  minLength: 1
              required:
                - auth
                - internalReference
                - authorization
                - action
            examples:
              Ejemplo:
                value:
                  auth:
                    login: 6dd490faf9cb87a9862245da41170ff2
                    tranKey: JUfKi8+W//kX43WZd8FcnNsdl7zkaeAQdmSOudWcVi0=
                    nonce: MzgwYWYwMjc2ZWUzODA5YmI1MDQ1YmNjYzdlNzY1MTY=
                    seed: '2021-03-02T17:03:50+01:00'
                  internalReference: 1505723583
                  authorization: '999999'
                  action: reverse
        description: |
          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | auth | Authentication | Información de autenticación del sitio. |
          | internalReference | bigint | Código único que representa la transacción en PlacetoPay. |
          | authorization | string | Código de aprobación de la transacción dado por el proveedor. |
          | action | string | Acción a realizar sobre la transacción (reverse). |
    parameters: []
  /rest/gateway/search:
    post:
      summary: Búsqueda de transacciones
      operationId: post-gateway-search
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      status:
                        type: string
                        minLength: 1
                      reason:
                        type: string
                        minLength: 1
                      message:
                        type: string
                        minLength: 1
                      date:
                        type: string
                        minLength: 1
                    required:
                      - status
                      - reason
                      - message
                      - date
                  transactions:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - date
                        - transactionDate
                        - internalReference
                        - reference
                        - paymentMethod
                        - franchise
                        - franchiseName
                        - issuerName
                        - authorization
                        - receipt
                        - type
                        - refunded
                        - lastDigits
                        - provider
                      properties:
                        status:
                          type: object
                          properties:
                            status:
                              type: string
                              minLength: 1
                            reason:
                              type: string
                              minLength: 1
                            message:
                              type: string
                              minLength: 1
                            date:
                              type: string
                              minLength: 1
                          required:
                            - status
                            - reason
                            - message
                            - date
                        date:
                          type: string
                          minLength: 1
                        transactionDate:
                          type: string
                          minLength: 1
                        internalReference:
                          type: number
                        reference:
                          type: string
                          minLength: 1
                        paymentMethod:
                          type: string
                          minLength: 1
                        franchise:
                          type: string
                          minLength: 1
                        franchiseName:
                          type: string
                          minLength: 1
                        issuerName:
                          type: string
                          minLength: 1
                        amount:
                          type: object
                          properties:
                            taxes:
                              type: array
                              uniqueItems: true
                              minItems: 1
                              items:
                                required:
                                  - kind
                                  - amount
                                  - base
                                properties:
                                  kind:
                                    type: string
                                    minLength: 1
                                  amount:
                                    type: number
                                  base:
                                    type: number
                            details:
                              type: array
                              uniqueItems: true
                              minItems: 1
                              items:
                                required:
                                  - kind
                                properties:
                                  kind:
                                    type: string
                                    minLength: 1
                            currency:
                              type: string
                              minLength: 1
                            total:
                              type: string
                              minLength: 1
                          required:
                            - taxes
                            - details
                            - currency
                            - total
                        conversion:
                          type: object
                          properties:
                            from:
                              type: object
                              properties:
                                currency:
                                  type: string
                                  minLength: 1
                                total:
                                  type: string
                                  minLength: 1
                              required:
                                - currency
                                - total
                            to:
                              type: object
                              properties:
                                currency:
                                  type: string
                                  minLength: 1
                                total:
                                  type: string
                                  minLength: 1
                              required:
                                - currency
                                - total
                            factor:
                              type: number
                          required:
                            - from
                            - to
                            - factor
                        authorization:
                          type: string
                          minLength: 1
                        receipt:
                          type: string
                          minLength: 1
                        type:
                          type: string
                          minLength: 1
                        refunded:
                          type: boolean
                        lastDigits:
                          type: string
                          minLength: 1
                        provider:
                          type: string
                          minLength: 1
                        discount: {}
                        processorFields:
                          type: object
                          properties:
                            id:
                              type: string
                              minLength: 1
                            b24:
                              type: string
                              minLength: 1
                          required:
                            - id
                            - b24
                        additional:
                          type: object
                          properties:
                            merchantCode:
                              type: string
                              minLength: 1
                            terminalNumber:
                              type: string
                              minLength: 1
                            bin:
                              type: string
                              minLength: 1
                            expiration:
                              type: string
                              minLength: 1
                            installments:
                              type: number
                          required:
                            - merchantCode
                            - terminalNumber
                            - bin
                            - expiration
                            - installments
                required:
                  - status
                  - transactions
              examples:
                Ejemplo:
                  value:
                    status:
                      status: OK
                      reason: '00'
                      message: La petición se ha procesado correctamente
                      date: '2021-03-03T13:40:57-05:00'
                    transactions:
                      - status:
                          status: APPROVED
                          reason: '00'
                          message: Aprobada
                          date: '2021-03-03T13:40:57-05:00'
                        date: '2021-03-02T11:05:49-05:00'
                        transactionDate: '2021-03-02T11:05:49-05:00'
                        internalReference: 1505723583
                        reference: TEST_20171108_144400
                        paymentMethod: CR_VS
                        franchise: visa
                        franchiseName: Visa
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        amount:
                          taxes:
                            - kind: valueAddedTax
                              amount: 0
                              base: 0
                          details:
                            - kind: shipping
                            - kind: tip
                          currency: COP
                          total: '1000.00'
                        conversion:
                          from:
                            currency: COP
                            total: '1000.00'
                          to:
                            currency: COP
                            total: '1000.00'
                          factor: 1
                        authorization: '999999'
                        receipt: '1605385146'
                        type: AUTH_ONLY
                        refunded: true
                        lastDigits: '****1111'
                        provider: CREDIBANCO
                        discount: null
                        processorFields:
                          id: f31842fddf772930f8f80d697009b8c1
                          b24: '000'
                        additional:
                          merchantCode: '011271442'
                          terminalNumber: '00057742'
                          bin: '411111'
                          expiration: '1222'
                          installments: 1
                      - status:
                          status: APPROVED
                          reason: '00'
                          message: Aprobada
                          date: '2021-03-03T13:40:57-05:00'
                        date: '2021-03-02T11:28:15-05:00'
                        transactionDate: '2021-03-02T11:28:15-05:00'
                        internalReference: 1505726109
                        reference: TEST_20171108_144400
                        paymentMethod: CR_VS
                        franchise: visa
                        franchiseName: Visa
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        amount:
                          taxes:
                            - kind: valueAddedTax
                              amount: 0
                              base: 0
                          details:
                            - kind: shipping
                            - kind: tip
                          currency: COP
                          total: '1000.00'
                        conversion:
                          from:
                            currency: COP
                            total: '1000.00'
                          to:
                            currency: COP
                            total: '1000.00'
                          factor: 1
                        authorization: '999999'
                        receipt: null
                        type: CREDIT
                        refunded: false
                        lastDigits: '****1111'
                        provider: CREDIBANCO
                        discount: null
                        processorFields:
                          id: 7d87dc5ee4f7fa408214a1a06982b97b
                          b24: '000'
                        additional:
                          merchantCode: '011271442'
                          terminalNumber: '00057742'
                          bin: '411111'
                          expiration: '1222'
                          installments: 1
                      - status:
                          status: APPROVED
                          reason: '00'
                          message: Aprobada
                          date: '2021-03-03T13:40:57-05:00'
                        date: '2021-03-02T11:47:04-05:00'
                        transactionDate: '2021-03-02T11:47:04-05:00'
                        internalReference: 1505728229
                        reference: TEST_20171108_144400
                        paymentMethod: CR_VS
                        franchise: visa
                        franchiseName: Visa
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        amount:
                          taxes:
                            - kind: valueAddedTax
                              amount: 0
                              base: 0
                          details:
                            - kind: shipping
                            - kind: tip
                          currency: COP
                          total: '1000.00'
                        conversion:
                          from:
                            currency: COP
                            total: '1000.00'
                          to:
                            currency: COP
                            total: '1000.00'
                          factor: 1
                        authorization: '999999'
                        receipt: '1020330770'
                        type: AUTH_ONLY
                        refunded: false
                        lastDigits: '****1111'
                        provider: CREDIBANCO
                        discount: null
                        processorFields:
                          id: c3e5a278db727933e12796139cdbf506
                          b24: '000'
                        additional:
                          merchantCode: '011271442'
                          terminalNumber: '00057742'
                          bin: '411111'
                          expiration: '0222'
                          installments: 1
      tags:
        - Consulta de una transaccion
      description: 'Este servicio permite la búsqueda de transacciones por referencia y monto, suele utilizarse en caso de pérdida de comunicación al crear una transacción para obtener la referencia interna nuevamente.'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                      minLength: 1
                    tranKey:
                      type: string
                      minLength: 1
                    nonce:
                      type: string
                      minLength: 1
                    seed:
                      type: string
                      minLength: 1
                  required:
                    - login
                    - tranKey
                    - nonce
                    - seed
                reference:
                  type: string
                  minLength: 1
                amount:
                  type: object
                  properties:
                    currency:
                      type: string
                      minLength: 1
                    total:
                      type: number
                  required:
                    - currency
                    - total
              required:
                - auth
                - reference
                - amount
            examples:
              Ejemplo:
                value:
                  auth:
                    login: 6dd490faf9cb87a9862245da41170ff2
                    tranKey: +FSGHsW3e6WrrHcIdBmqI+j6FFeUN4bidfPL7LeZgvE=
                    nonce: N2YzMGM1M2QxOTU3YzZmMzVlYmIzZTAyOGMwNjNkMmU=
                    seed: '2021-03-03T19:40:37+01:00'
                  reference: TEST_20171108_144400
                  amount:
                    currency: COP
                    total: 1000
        description: ''
    parameters: []
  /rest/gateway/interests:
    post:
      summary: Cálculo de Intereses
      operationId: post-rest-gateway-interests
      responses:
        '200':
          description: |-
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string | Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED) |
            | values  | InterestValues | Valores para el monto y el tipo de crédito enviado. |
            | conversion  | AmountConversion | Si se realiza una conversión de moneda se proporciona la información de dicha conversion, null si no se realizó. |
          content:
            application/json:
              schema:
                type: object
                properties: {}
      tags:
        - Solo Ecuador
      description: |
        Este servicio se debe consumir si la tarjeta requiere que se muestren los intereses
        (displayInterest en true) y como ejemplo de esta manera se muestran los valores en el servicio
        de redirección.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
        description: |
          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | auth | Authentication | Información de autenticación del sitio. |
          | instrument | Instrument | Estructura de entrada para la tarjeta o token. |
          | payment | Payment | Información simple del cobro a realizar. |
  /rest/otp/generate:
    parameters: []
    post:
      summary: Generación de OTP
      operationId: post-rest-otp-generate
      responses:
        '200':
          description: |-
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string | Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED) |
          content:
            application/json:
              schema:
                type: object
                properties: {}
      description: |
        Este servicio se consume si es necesario el otp para la tarjeta provista por el cliente (requireOtp
        en true) y debe permitirsele al usuario ingresar el OTP para enviarlo posteriormente en el
        servicio de procesamiento, a manera de ejemplo de esta manera se captura en la interfaz de
        redirección
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
        description: |-
          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | auth | Authentication | Información de autenticación del sitio. |
          | instrument | Instrument | Estructura de entrada para la tarjeta o token. |
      tags:
        - Solo Ecuador
  /rest/otp/validate:
    post:
      summary: Validación de OTP
      operationId: post-rest-otp-validate
      responses:
        '200':
          description: |
            **Parámetros**

            | Nombre | Tipo | Descripción |
            |-----------|------|-------------|
            | status | Status | Información del estado de la petición. |
            | provider | string | Determina el proveedor que procesa la transacción (INTERDIN, DATAFAST, BANRED) |
            | signature | string | Firma asignada a la comprobación de OTP dela transacción, necesaria para los filtros de
            seguridad, vacío en caso de no proporcionar el OTP correcto. |
            | validated | bool  | Determina si el OTP ha sido verificado. |
      description: |
        Permite validar que el OTP provisto concuerde con el enviado por el proveedor, de ser así se
        retornará un valor “signature” que debe enviarse en la petición de procesamiento como “otp”
        esto con el fin de que se tome en cuenta a la hora de analizar la transacción por los filtros de
        seguridad
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
        description: |-
          **Parámetros**

          | Nombre | Tipo | Descripción |
          |-----------|------|-------------|
          | locale | string | Definido con los códigos ISO 639 (language) y ISO 3166-1 alpha-2 (2-letras del país) ej. en_US, es_EC, es_CO |
          | auth | Authentication | Información de autenticación del sitio. |
          | instrument | Instrument | Estructura de entrada para la tarjeta o token. |
          | payment | Payment | Información simple del cobro a realizar. |
      tags:
        - Solo Ecuador
components:
  schemas: {}
